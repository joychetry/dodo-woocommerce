!function(e){"use strict";e(document).ready((function(){if("undefined"!=typeof dodoCheckoutOverlay&&dodoCheckoutOverlay.checkoutUrl){var o=null;if("undefined"!=typeof DodoPaymentsCheckout&&void 0!==DodoPaymentsCheckout.DodoPayments)o=DodoPaymentsCheckout.DodoPayments;else{if("undefined"==typeof DodoPayments)return;o=DodoPayments}try{o.Initialize({mode:dodoCheckoutOverlay.mode,onEvent:function(o){!function(o){switch(o.event_type||o.type){case"checkout.opened":e("body").addClass("dodo-checkout-overlay-open"),dodoCheckoutOverlay.ajaxUrl&&dodoCheckoutOverlay.nonce&&e.post(dodoCheckoutOverlay.ajaxUrl,{action:"dodo_clear_checkout_session",nonce:dodoCheckoutOverlay.nonce});break;case"checkout.closed":e("body").removeClass("dodo-checkout-overlay-open");break;case"checkout.payment_page_opened":break;case"checkout.customer_details_submitted":break;case"checkout.redirect":o.data&&o.data.url&&(window.location.href=o.data.url);break;case"checkout.error":var c="An error occurred during checkout. Please try again.";o.data&&o.data.message&&(c=o.data.message),t(c);break;default:}}(o)}})}catch(e){return}setTimeout((function(){!function(){try{var e=null;if("undefined"!=typeof DodoPaymentsCheckout&&void 0!==DodoPaymentsCheckout.DodoPayments)e=DodoPaymentsCheckout.DodoPayments;else{if("undefined"==typeof DodoPayments)return void t("Dodo Payments SDK not available");e=DodoPayments}if(e.Checkout&&"function"==typeof e.Checkout.isOpen&&e.Checkout.isOpen())return;e.Checkout.open({checkoutUrl:dodoCheckoutOverlay.checkoutUrl})}catch(e){t("Failed to open checkout. Please try again.")}}()}),500),e("form.checkout").on("submit",(function(o){if(e("body").hasClass("dodo-checkout-overlay-open"))return o.preventDefault(),!1}))}function t(o){e(".woocommerce-error, .woocommerce-message").remove(),e(".woocommerce-checkout").length?e(".woocommerce-checkout").prepend('<div class="woocommerce-error" role="alert"><strong>'+o+"</strong></div>"):alert(o)}}))}(jQuery);